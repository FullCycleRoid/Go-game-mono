# Архитектура фронтенда Go Game

## Основные компоненты

- **Game.tsx** — основной компонент, управляющий фазами игры (Welcome, Create, Join, Playing, GameOver). Делегирует отображение подкомпонентам.
- **useGame.ts** — кастомный хук, инкапсулирующий логику работы с состоянием игры, загрузкой, ходами, автообновлением.
- **Board.tsx** — компонент для отображения доски, получает boardData, isMyTurn, onPointClick и другие параметры, рендерит сетку через BoardRow и Point.
- **WelcomeScreen, CreateGameScreen, JoinGameScreen, PlayingGameScreen** — подкомпоненты для разных фаз игры.
- **Point, BoardRow, Stone, TurnIndicator** — атомарные компоненты, каждый с отдельным файлом типов (types.ts) для пропсов и enum'ов.

## Поток данных

1. **Game.tsx** хранит состояние текущей фазы и id игры.
2. **useGame** управляет загрузкой и обновлением состояния игры, предоставляет функции для хода и обновления.
3. **Board.tsx** получает boardData (двумерный массив StoneType), isMyTurn и обработчик клика, чтобы рендерить доску и реагировать на действия пользователя.
4. Все данные о состоянии игры (доска, игроки, чей ход) берутся из useGame и передаются вниз через пропсы.
5. Все атомарные компоненты используют типы из своих types.ts, что повышает читаемость и переиспользуемость.

## Пример потока данных

- Пользователь выбирает "Создать игру" → Game.tsx меняет фазу → CreateGameScreen → после создания игры id передается обратно в Game.tsx → useGame начинает отслеживать состояние этой игры.
- Пользователь кликает по точке на доске → Board.tsx вызывает onPointClick → Game.tsx вызывает makeMove из useGame → состояние обновляется.

## Структура файлов

- `src/components/Game/` — основной компонент и подкомпоненты фаз
- `src/components/Board/` — компонент доски и типы
- `src/components/Point/`, `src/components/BoardRow/`, `src/components/Stone/`, `src/components/TurnIndicator/` — атомарные компоненты и их types.ts
- `src/hooks/useGame.ts` — хук управления игрой
- `src/constants.ts` — константы (размеры, фазы)
- `src/components/Board/types.ts`, `src/components/Game/types.ts`, и т.д. — типы пропсов

## Принципы

- Все данные и функции передаются сверху вниз через пропсы.
- Логика работы с API и состоянием инкапсулирована в хуках.
- Каждый компонент отвечает только за свою фазу/часть UI.
- Для каждого компонента создается отдельный файл типов (types.ts), где описываются все интерфейсы и enum'ы, используемые в компоненте.
- Документация и JSDoc добавляются к основным функциям и хукам для повышения читаемости и поддержки. 